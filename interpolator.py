#!/usr/bin/env python3
# Κωσταντίνος Χρυσικός (ΑΜ: 4164)
# Βίκτωρ Ριζκόβ (ΑΜ: 4273)

FAST_OUT_SLOW_IN = [
    0.0000, 0.0001, 0.0002, 0.0005, 0.0009, 0.0014, 0.0020,
    0.0027, 0.0036, 0.0046, 0.0058, 0.0071, 0.0085, 0.0101,
    0.0118, 0.0137, 0.0158, 0.0180, 0.0205, 0.0231, 0.0259,
    0.0289, 0.0321, 0.0355, 0.0391, 0.0430, 0.0471, 0.0514,
    0.0560, 0.0608, 0.0660, 0.0714, 0.0771, 0.0830, 0.0893,
    0.0959, 0.1029, 0.1101, 0.1177, 0.1257, 0.1339, 0.1426,
    0.1516, 0.1610, 0.1707, 0.1808, 0.1913, 0.2021, 0.2133,
    0.2248, 0.2366, 0.2487, 0.2611, 0.2738, 0.2867, 0.2998,
    0.3131, 0.3265, 0.3400, 0.3536, 0.3673, 0.3810, 0.3946,
    0.4082, 0.4217, 0.4352, 0.4485, 0.4616, 0.4746, 0.4874,
    0.5000, 0.5124, 0.5246, 0.5365, 0.5482, 0.5597, 0.5710,
    0.5820, 0.5928, 0.6033, 0.6136, 0.6237, 0.6335, 0.6431,
    0.6525, 0.6616, 0.6706, 0.6793, 0.6878, 0.6961, 0.7043,
    0.7122, 0.7199, 0.7275, 0.7349, 0.7421, 0.7491, 0.7559,
    0.7626, 0.7692, 0.7756, 0.7818, 0.7879, 0.7938, 0.7996,
    0.8053, 0.8108, 0.8162, 0.8215, 0.8266, 0.8317, 0.8366,
    0.8414, 0.8461, 0.8507, 0.8551, 0.8595, 0.8638, 0.8679,
    0.8720, 0.8760, 0.8798, 0.8836, 0.8873, 0.8909, 0.8945,
    0.8979, 0.9013, 0.9046, 0.9078, 0.9109, 0.9139, 0.9169,
    0.9198, 0.9227, 0.9254, 0.9281, 0.9307, 0.9333, 0.9358,
    0.9382, 0.9406, 0.9429, 0.9452, 0.9474, 0.9495, 0.9516,
    0.9536, 0.9556, 0.9575, 0.9594, 0.9612, 0.9629, 0.9646,
    0.9663, 0.9679, 0.9695, 0.9710, 0.9725, 0.9739, 0.9753,
    0.9766, 0.9779, 0.9791, 0.9803, 0.9815, 0.9826, 0.9837,
    0.9848, 0.9858, 0.9867, 0.9877, 0.9885, 0.9894, 0.9902,
    0.9910, 0.9917, 0.9924, 0.9931, 0.9937, 0.9944, 0.9949,
    0.9955, 0.9960, 0.9964, 0.9969, 0.9973, 0.9977, 0.9980,
    0.9984, 0.9986, 0.9989, 0.9991, 0.9993, 0.9995, 0.9997,
    0.9998, 0.9999, 0.9999, 1.0000, 1.0000
]

FAST_OUT_LINEAR_IN = [
    0.0000, 0.0001, 0.0002, 0.0005, 0.0008, 0.0013, 0.0018,
    0.0024, 0.0032, 0.0040, 0.0049, 0.0059, 0.0069, 0.0081,
    0.0093, 0.0106, 0.0120, 0.0135, 0.0151, 0.0167, 0.0184,
    0.0201, 0.0220, 0.0239, 0.0259, 0.0279, 0.0300, 0.0322,
    0.0345, 0.0368, 0.0391, 0.0416, 0.0441, 0.0466, 0.0492,
    0.0519, 0.0547, 0.0574, 0.0603, 0.0632, 0.0662, 0.0692,
    0.0722, 0.0754, 0.0785, 0.0817, 0.0850, 0.0884, 0.0917,
    0.0952, 0.0986, 0.1021, 0.1057, 0.1093, 0.1130, 0.1167,
    0.1205, 0.1243, 0.1281, 0.1320, 0.1359, 0.1399, 0.1439,
    0.1480, 0.1521, 0.1562, 0.1604, 0.1647, 0.1689, 0.1732,
    0.1776, 0.1820, 0.1864, 0.1909, 0.1954, 0.1999, 0.2045,
    0.2091, 0.2138, 0.2184, 0.2232, 0.2279, 0.2327, 0.2376,
    0.2424, 0.2473, 0.2523, 0.2572, 0.2622, 0.2673, 0.2723,
    0.2774, 0.2826, 0.2877, 0.2929, 0.2982, 0.3034, 0.3087,
    0.3141, 0.3194, 0.3248, 0.3302, 0.3357, 0.3412, 0.3467,
    0.3522, 0.3578, 0.3634, 0.3690, 0.3747, 0.3804, 0.3861,
    0.3918, 0.3976, 0.4034, 0.4092, 0.4151, 0.4210, 0.4269,
    0.4329, 0.4388, 0.4448, 0.4508, 0.4569, 0.4630, 0.4691,
    0.4752, 0.4814, 0.4876, 0.4938, 0.5000, 0.5063, 0.5126,
    0.5189, 0.5252, 0.5316, 0.5380, 0.5444, 0.5508, 0.5573,
    0.5638, 0.5703, 0.5768, 0.5834, 0.5900, 0.5966, 0.6033,
    0.6099, 0.6166, 0.6233, 0.6301, 0.6369, 0.6436, 0.6505,
    0.6573, 0.6642, 0.6710, 0.6780, 0.6849, 0.6919, 0.6988,
    0.7059, 0.7129, 0.7199, 0.7270, 0.7341, 0.7413, 0.7484,
    0.7556, 0.7628, 0.7700, 0.7773, 0.7846, 0.7919, 0.7992,
    0.8066, 0.8140, 0.8214, 0.8288, 0.8363, 0.8437, 0.8513,
    0.8588, 0.8664, 0.8740, 0.8816, 0.8892, 0.8969, 0.9046,
    0.9124, 0.9201, 0.9280, 0.9358, 0.9437, 0.9516, 0.9595,
    0.9675, 0.9755, 0.9836, 0.9918, 1.0000
]


def interpolate(x: float, interpolator) -> float:
    if x >= 1.0:
        return 1.0
    if x <= 0.0:
        return 0.0

    step_size = 1.0 / (len(interpolator) - 1)

    position = min(int(x * (len(interpolator) - 1)), len(interpolator) - 2)
    quantized = position * step_size
    diff = x - quantized
    weight = diff / step_size

    return interpolator[position] + weight * (
            interpolator[position + 1] - interpolator[position])
